{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chanduranwala/Scanbot/ionic/scanbot-sdk-example-ionic-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chanduranwala/Scanbot/ionic/scanbot-sdk-example-ionic-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chanduranwala/Scanbot/ionic/scanbot-sdk-example-ionic-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonItemGroup,IonItemDivider,IonItem,IonLabel,useIonAlert}from'@ionic/react';import'./Home.css';import{useHistory}from'react-router';import{ImageResultsRepository}from'../utils/ImageRepository';import{BarcodeRepository}from'../utils/BarcodeRepository';import ScanbotSdk from'cordova-plugin-scanbot-sdk';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var history=useHistory();var _useIonAlert=useIonAlert(),_useIonAlert2=_slicedToArray(_useIonAlert,1),presentAlert=_useIonAlert2[0];// scan document SDK feature\nvar startDocumentScanner=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var configs;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:configs={cameraPreviewMode:'FIT_IN',interfaceOrientation:'PORTRAIT',pageCounterButtonTitle:'%d Page(s)',multiPageEnabled:true,ignoreBadAspectRatio:true,topBarBackgroundColor:'#c8193c',bottomBarBackgroundColor:'#c8193c'// see further configs ...\n};_context2.next=3;return ScanbotSdk.UI.startDocumentScanner(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(documentScannerResult){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(documentScannerResult.status==='CANCELED')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return ImageResultsRepository.INSTANCE.addPages(documentScannerResult.pages);case 4:history.push(\"/imagepreview\");case 5:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),function(error){// error handeling call back you can add your logic here\npresentAlert({header:'Error',message:error.message,buttons:['OK']});},{uiConfigs:configs});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function startDocumentScanner(){return _ref.apply(this,arguments);};}();// scan barcode\nvar scanBarcode=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var configs;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:configs={// Customize colors, text resources, behavior, etc..\nfinderTextHint:'Please align the barcode or QR code in the frame above to scan it.',interfaceOrientation:'PORTRAIT',finderLineColor:'#0000ff',barcodeFormats:BarcodeRepository.getAcceptedTypes()// optional filter for specific barcode types\n// see further configs ...\n};_context3.next=3;return ScanbotSdk.UI.startBarcodeScanner(function(barcodeResults){var barcodeString='';if(barcodeResults.status==\"CANCELED\")return;if(barcodeResults.barcodes==undefined)return;barcodeResults.barcodes.forEach(function(barcode){barcodeString+=barcode.type+' : '+barcode.text+'\\n';});presentAlert({header:'Barcode Results',message:barcodeString,buttons:['OK']});},function(error){presentAlert({header:'Error',message:error.message,buttons:['OK']});},{uiConfigs:configs});case 3:case\"end\":return _context3.stop();}},_callee3);}));return function scanBarcode(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:\"Scanbot SDK\"})})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsxs(IonItemGroup,{children:[/*#__PURE__*/_jsx(IonItemDivider,{children:/*#__PURE__*/_jsx(IonLabel,{children:\"Document Scan Feature\"})}),/*#__PURE__*/_jsx(IonItem,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return startDocumentScanner();case 2:case\"end\":return _context4.stop();}},_callee4);})),children:/*#__PURE__*/_jsx(IonLabel,{children:\"Scan Document\"})}),/*#__PURE__*/_jsx(IonItem,{onClick:function onClick(){history.push(\"/imagepreview\");},children:/*#__PURE__*/_jsx(IonLabel,{children:\"View Images\"})})]}),/*#__PURE__*/_jsxs(IonItemGroup,{children:[/*#__PURE__*/_jsx(IonItemDivider,{children:/*#__PURE__*/_jsx(IonLabel,{children:\"Barcode Scan Feature\"})}),/*#__PURE__*/_jsx(IonItem,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return scanBarcode();case 2:case\"end\":return _context5.stop();}},_callee5);})),children:/*#__PURE__*/_jsx(IonLabel,{children:\"Scan Barcode\"})})]})]})]});};export default Home;","map":{"version":3,"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonItemGroup","IonItemDivider","IonItem","IonLabel","useIonAlert","useHistory","ImageResultsRepository","BarcodeRepository","ScanbotSdk","Home","history","presentAlert","startDocumentScanner","configs","cameraPreviewMode","interfaceOrientation","pageCounterButtonTitle","multiPageEnabled","ignoreBadAspectRatio","topBarBackgroundColor","bottomBarBackgroundColor","UI","documentScannerResult","status","INSTANCE","addPages","pages","push","error","header","message","buttons","uiConfigs","scanBarcode","finderTextHint","finderLineColor","barcodeFormats","getAcceptedTypes","startBarcodeScanner","barcodeResults","barcodeString","barcodes","undefined","forEach","barcode","type","text"],"sources":["/Users/chanduranwala/Scanbot/ionic/scanbot-sdk-example-ionic-react/src/pages/Home.tsx"],"sourcesContent":["import { \n  IonContent, \n  IonHeader, \n  IonPage, \n  IonTitle, \n  IonToolbar,\n  IonItemGroup,\n  IonItemDivider,\n  IonItem,\n  IonLabel,\n  useIonAlert } from '@ionic/react';\nimport './Home.css';\n\nimport { useHistory } from 'react-router';\n\nimport { ImageResultsRepository } from '../utils/ImageRepository';\nimport { BarcodeRepository } from '../utils/BarcodeRepository';\n\nimport ScanbotSdk, { \n  DocumentScannerConfiguration, \n  BarcodeScannerConfiguration} from 'cordova-plugin-scanbot-sdk';\n\nconst Home: React.FC = () => {\n\n  const history = useHistory();\n  const [presentAlert] = useIonAlert();\n\n  // scan document SDK feature\n  const startDocumentScanner = async () => {\n  \n    const configs: DocumentScannerConfiguration = {\n      cameraPreviewMode: 'FIT_IN',\n      interfaceOrientation: 'PORTRAIT',\n      pageCounterButtonTitle: '%d Page(s)',\n      multiPageEnabled: true,\n      ignoreBadAspectRatio: true,\n      topBarBackgroundColor: '#c8193c',\n      bottomBarBackgroundColor: '#c8193c',\n      // see further configs ...\n    };\n    \n    await ScanbotSdk.UI.startDocumentScanner(async (documentScannerResult) => {\n\n        if (documentScannerResult.status === 'CANCELED') {\n          // user has canceled the scanning operation\n          return;\n        } \n\n        await ImageResultsRepository.INSTANCE.addPages(documentScannerResult.pages);\n\n        history.push(\"/imagepreview\");\n\n    }, \n    (error) => {\n      // error handeling call back you can add your logic here\n      presentAlert({\n        header: 'Error',\n        message: error.message,\n        buttons: ['OK'],\n      })\n    }, {uiConfigs: configs});\n  }\n\n  // scan barcode\n  const scanBarcode = async () => {\n    const configs: BarcodeScannerConfiguration = {\n      // Customize colors, text resources, behavior, etc..\n      finderTextHint: 'Please align the barcode or QR code in the frame above to scan it.',\n      interfaceOrientation: 'PORTRAIT',\n      finderLineColor: '#0000ff',\n      barcodeFormats: BarcodeRepository.getAcceptedTypes(), // optional filter for specific barcode types\n      // see further configs ...\n    };\n\n    await ScanbotSdk.UI.startBarcodeScanner((barcodeResults) => {\n      let barcodeString:string = '';\n      if(barcodeResults.status == \"CANCELED\") return;\n\n      if(barcodeResults.barcodes == undefined) return;\n\n      barcodeResults.barcodes.forEach(barcode => {\n        barcodeString += barcode.type + ' : ' + barcode.text + '\\n';\n      });\n\n      presentAlert({\n        header: 'Barcode Results',\n        message: barcodeString,\n        buttons: ['OK'],\n      })\n    }, \n    (error) => {\n      presentAlert({\n        header: 'Error',\n        message: error.message,\n        buttons: ['OK'],\n      })\n    }, \n    {uiConfigs: configs})\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Scanbot SDK</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n\n        <IonItemGroup>\n          <IonItemDivider>\n            <IonLabel>Document Scan Feature</IonLabel>\n          </IonItemDivider>\n\n          <IonItem onClick={async () => { await startDocumentScanner();}}>\n            <IonLabel>Scan Document</IonLabel>\n          </IonItem>\n          <IonItem onClick={() => { history.push(\"/imagepreview\"); }}>\n            <IonLabel>View Images</IonLabel>\n          </IonItem>\n        </IonItemGroup>\n\n        <IonItemGroup>\n          <IonItemDivider>\n            <IonLabel>Barcode Scan Feature</IonLabel>\n          </IonItemDivider>\n\n          <IonItem onClick={async() => {await scanBarcode()}}>\n            <IonLabel>Scan Barcode</IonLabel>\n          </IonItem>\n        </IonItemGroup>\n\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Home;"],"mappings":"wdAAA,OACEA,UAAU,CACVC,SAAS,CACTC,OAAO,CACPC,QAAQ,CACRC,UAAU,CACVC,YAAY,CACZC,cAAc,CACdC,OAAO,CACPC,QAAQ,CACRC,WAAW,KAAQ,cAAc,CACnC,MAAO,YAAY,CAEnB,OAASC,UAAU,KAAQ,cAAc,CAEzC,OAASC,sBAAsB,KAAQ,0BAA0B,CACjE,OAASC,iBAAiB,KAAQ,4BAA4B,CAE9D,MAAOC,WAAU,KAEmB,4BAA4B,CAAC,wFAEjE,GAAMC,KAAc,CAAG,QAAjBA,KAAc,EAAS,CAE3B,GAAMC,QAAO,CAAGL,UAAU,EAAE,CAC5B,iBAAuBD,WAAW,EAAE,8CAA7BO,YAAY,kBAEnB;AACA,GAAMC,qBAAoB,4FAAG,qJAErBC,OAAqC,CAAG,CAC5CC,iBAAiB,CAAE,QAAQ,CAC3BC,oBAAoB,CAAE,UAAU,CAChCC,sBAAsB,CAAE,YAAY,CACpCC,gBAAgB,CAAE,IAAI,CACtBC,oBAAoB,CAAE,IAAI,CAC1BC,qBAAqB,CAAE,SAAS,CAChCC,wBAAwB,CAAE,SAC1B;AACF,CAAC,wBAEKZ,WAAU,CAACa,EAAE,CAACT,oBAAoB,6FAAC,iBAAOU,qBAAqB,wHAE7DA,qBAAqB,CAACC,MAAM,GAAK,UAAU,wFAKzCjB,uBAAsB,CAACkB,QAAQ,CAACC,QAAQ,CAACH,qBAAqB,CAACI,KAAK,CAAC,QAE3EhB,OAAO,CAACiB,IAAI,CAAC,eAAe,CAAC,CAAC,qDAEjC,gEACD,SAACC,KAAK,CAAK,CACT;AACAjB,YAAY,CAAC,CACXkB,MAAM,CAAE,OAAO,CACfC,OAAO,CAAEF,KAAK,CAACE,OAAO,CACtBC,OAAO,CAAE,CAAC,IAAI,CAChB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACC,SAAS,CAAEnB,OAAO,CAAC,CAAC,wDACzB,kBAjCKD,qBAAoB,0CAiCzB,CAED;AACA,GAAMqB,YAAW,6FAAG,qJACZpB,OAAoC,CAAG,CAC3C;AACAqB,cAAc,CAAE,oEAAoE,CACpFnB,oBAAoB,CAAE,UAAU,CAChCoB,eAAe,CAAE,SAAS,CAC1BC,cAAc,CAAE7B,iBAAiB,CAAC8B,gBAAgB,EAAI;AACtD;AACF,CAAC,wBAEK7B,WAAU,CAACa,EAAE,CAACiB,mBAAmB,CAAC,SAACC,cAAc,CAAK,CAC1D,GAAIC,cAAoB,CAAG,EAAE,CAC7B,GAAGD,cAAc,CAAChB,MAAM,EAAI,UAAU,CAAE,OAExC,GAAGgB,cAAc,CAACE,QAAQ,EAAIC,SAAS,CAAE,OAEzCH,cAAc,CAACE,QAAQ,CAACE,OAAO,CAAC,SAAAC,OAAO,CAAI,CACzCJ,aAAa,EAAII,OAAO,CAACC,IAAI,CAAG,KAAK,CAAGD,OAAO,CAACE,IAAI,CAAG,IAAI,CAC7D,CAAC,CAAC,CAEFnC,YAAY,CAAC,CACXkB,MAAM,CAAE,iBAAiB,CACzBC,OAAO,CAAEU,aAAa,CACtBT,OAAO,CAAE,CAAC,IAAI,CAChB,CAAC,CAAC,CACJ,CAAC,CACD,SAACH,KAAK,CAAK,CACTjB,YAAY,CAAC,CACXkB,MAAM,CAAE,OAAO,CACfC,OAAO,CAAEF,KAAK,CAACE,OAAO,CACtBC,OAAO,CAAE,CAAC,IAAI,CAChB,CAAC,CAAC,CACJ,CAAC,CACD,CAACC,SAAS,CAAEnB,OAAO,CAAC,CAAC,wDACtB,kBAlCKoB,YAAW,2CAkChB,CAED,mBACE,MAAC,OAAO,yBACN,KAAC,SAAS,wBACR,KAAC,UAAU,wBACT,KAAC,QAAQ,WAAC,aAAW,EAAW,EACrB,EACH,cACZ,MAAC,UAAU,EAAC,UAAU,6BAEpB,MAAC,YAAY,yBACX,KAAC,cAAc,wBACb,KAAC,QAAQ,WAAC,uBAAqB,EAAW,EAC3B,cAEjB,KAAC,OAAO,EAAC,OAAO,wEAAE,gKAAoBrB,qBAAoB,EAAE,wDAAE,EAAC,uBAC7D,KAAC,QAAQ,WAAC,eAAa,EAAW,EAC1B,cACV,KAAC,OAAO,EAAC,OAAO,CAAE,kBAAM,CAAEF,OAAO,CAACiB,IAAI,CAAC,eAAe,CAAC,CAAE,CAAE,uBACzD,KAAC,QAAQ,WAAC,aAAW,EAAW,EACxB,GACG,cAEf,MAAC,YAAY,yBACX,KAAC,cAAc,wBACb,KAAC,QAAQ,WAAC,sBAAoB,EAAW,EAC1B,cAEjB,KAAC,OAAO,EAAC,OAAO,wEAAE,gKAAkBM,YAAW,EAAE,wDAAC,EAAC,uBACjD,KAAC,QAAQ,WAAC,cAAY,EAAW,EACzB,GACG,GAEJ,GACL,CAEd,CAAC,CAED,cAAexB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}